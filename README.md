# OpenWiki ‚Äî WIKI –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏–ª–∏ –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ì–æ—Ç–æ–≤–∞—è —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è Wiki —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ `user.txt`, –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–∞–≤–æ–∫, –æ—Ç–∫–∞—Ç–∞–º–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞),
–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–µ–¥–∏–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ) –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –ü–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∞ –≤ Docker.

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)](#–ë—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-(Docker))
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#–ü—Ä–∏–º–µ—á–∞–Ω–∏—è-–ø–æ-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [RAG-—ç–∫—Å–ø–æ—Ä—Ç –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ](#RAG-—ç–∫—Å–ø–æ—Ä—Ç-–∏-—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
-- [–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)](#–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã-—ç–∫—Å–ø–æ—Ä—Ç–∞-(—Ç—Ä–µ–±—É—é—Ç-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏))
-- [–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —á–∞–Ω–∫–æ–≤](#–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞-—á–∞–Ω–∫–æ–≤)
-- [–ó–∞—á–µ–º —Ç–∞–∫](#–ó–∞—á–µ–º-—Ç–∞–∫)

---

##–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞

‚îî‚îÄ‚îÄ‚îÄ docker-compose.yml      
‚îî‚îÄ‚îÄ‚îÄ Dockerfile   
‚îî‚îÄ‚îÄ‚îÄ README.md     
‚îî‚îÄ‚îÄ‚îÄ requirements.txt     
‚îú‚îÄ‚îÄ‚îÄapp     
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ app.py     
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ models.py     
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ rag.py     
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ utils.py     
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ __init__.py     
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄstatic   
‚îÇ   ‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ script.js   
‚îÇ   ‚îÇ     ‚îî‚îÄ‚îÄ‚îÄstyles.css   
‚îÇ   ‚îÇ   
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄtemplates   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ about.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ article_detail.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ article_form.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ base.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ history.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ index.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ login.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ section_detail.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ section_form.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ subsection_detail.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ subsection_form.html   
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ trash.html   
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ uploads   
‚îî‚îÄ‚îÄ‚îÄ data   
      ‚îî‚îÄ‚îÄ‚îÄ .db_init.lock   
      ‚îî‚îÄ‚îÄ‚îÄ lertowiki.db   
      ‚îî‚îÄ‚îÄ‚îÄ user.txt    

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose.
2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ/—Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç.
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `./data/user.txt` (–ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ).
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
docker compose up --build -d
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: http://localhost:8000

## –§–æ—Ä–º–∞—Ç `user.txt`

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –≤–∏–¥–µ:

```txt
"–ª–æ–≥–∏–Ω":"–ø–∞—Ä–æ–ª—å":"–ò–º—è":"–§–∞–º–∏–ª–∏—è"
```

**–ü—Ä–∏–º–µ—Ä (`./data/user.txt`):**
```txt
"Admin":"password":"First_name":"Last_name"
"assembler1":"p@ssw0rd":"First_name1":"Last_name1"
"qa":"qa123":"First_name2":"Last_name2"
```

> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ª–æ–≥–∏–Ω–æ–º **Admin** (–∏ –ø–∞—Ä–æ–ª–µ–º `password`) –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –º–æ–∂–µ—Ç –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ —Å—Ç–∞—Ç–µ–π.

> –ü–∞—Ä–æ–ª–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–∫ –≤ —Ñ–∞–π–ª–µ (–±–µ–∑ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è). –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ö–µ—à–∏ –∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –í—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é –∏–∑ `user.txt`. –°–µ—Å—Å–∏–∏ –Ω–∞ Flask.
- üë• –õ—é–±–æ–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã, –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã –∏ —Å—Ç–∞—Ç—å–∏.
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∞–≤–æ–∫ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º, **–∫—Ç–æ** –∏ **–∫–æ–≥–¥–∞** —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª.
- ‚ôªÔ∏è **–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π** –∫ –ª—é–±–æ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è Admin).
- üñºÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤) + –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏.
- üîé –ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É.
- üß≠ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI: –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π layout, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ (–∞–≤—Ç–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ).
- üê≥ –†–∞–±–æ—Ç–∞ –≤ Docker (gunicorn + Flask + SQLite).

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `USERS_FILE` ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/data/user.txt`).
- `SECRET_KEY` ‚Äî —Å–µ–∫—Ä–µ—Ç Flask (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤ –ø—Ä–æ–¥–µ).

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –¥–µ–º–æ-–ø–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å.
- –î–ª—è –±–æ–µ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, PBKDF2/Bcrypt/Argon2) –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –ë–î.

---

## RAG-—ç–∫—Å–ø–æ—Ä—Ç –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ **—á–∞–Ω–∫–∏—Ç—Å—è** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ~1200 —Å–∏–º–≤–æ–ª–æ–≤, overlap ~200) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `chunks`.
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑ env: `CHUNK_SIZE_CHARS`, `CHUNK_OVERLAP`.

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `GET /api/chunks.ndjson` ‚Äî NDJSON –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (–ø–æ –æ–¥–Ω–æ–º—É —á–∞–Ω–∫—É –≤ —Å—Ç—Ä–æ–∫–µ).  
- `GET /api/chunks.json` ‚Äî JSON-—Å–ø–∏—Å–æ–∫ (–¥–æ 5000 –∑–∞–ø–∏—Å–µ–π).  
- `GET /api/articles.json` ‚Äî —Å—ã—Ä—ã–µ —Å—Ç–∞—Ç—å–∏ (html+—Ç–µ–∫—Å—Ç).

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —á–∞–Ω–∫–æ–≤
–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —á–∞–Ω–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ **–û —Å–∏—Å—Ç–µ–º–µ** ‚Üí –∫–Ω–æ–ø–∫–∞ *–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å RAG-—á–∞–Ω–∫–∏* (POST `/admin/rag/rebuild`).

### –ó–∞—á–µ–º —Ç–∞–∫
- –•—Ä–∞–Ω–∏–º **—á–∏—Å—Ç—ã–π –ø–ª–µ–π–Ω—Ç–µ–∫—Å—Ç** –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (section/subsection/article, –∞–≤—Ç–æ—Ä, –≤—Ä–µ–º—è), —É–¥–æ–±–Ω–æ –∫–æ—Ä–º–∏—Ç—å –≤ –ª—é–±–æ–π –∏–Ω–¥–µ–∫—Å/–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
- NDJSON –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Å—Ç—Ä–∏–º–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–π–ø–ª–∞–π–Ω —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Faiss, Weaviate, Qdrant –∏ —Ç.–¥.).

